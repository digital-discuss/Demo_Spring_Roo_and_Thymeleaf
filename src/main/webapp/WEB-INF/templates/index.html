<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

<title>HTML5 Spring Roo Thymeleaf Demo</title>
<meta name="description" content="HTML5 Spring Roo Thymeleaf Demo Contact Form" />
<meta name="author" content="see humans.txt"/>

<meta name="viewport" content="width=device-width,initial-scale=1" />

<link rel="stylesheet" href="../../css/style.css" th:href="@{/css/style.css}"/>

<script src="../../js/libs/modernizr-2.0.6.min.js" th:src="@{/js/libs/modernizr-2.0.6.min.js}"></script>
</head>

<body>
	<div id="container">
		<header>
            <h1>HTML5 Spring Roo Thymeleaf Demo</h1>
            <hr />
		</header>

        <a class="button" href="messageforms/create.html" th:href="@{'messageforms?form'}" 
            th:text="#{index.button.contact}">Contact Us</a>
        <a class="button" href="messageforms/list.html" th:href="@{messageforms(page='1',size='10')}" 
            th:text="#{index.button.list}">List Contacts</a>  
        <hr />
            
        <p>A Work in Progress - demo project exploring the application of <a href="http://www.thymeleaf.org/">Thymeleaf</a> to a JEE/Spring application generated by <a href="http://www.springsource.org/spring-roo">Spring Roo</a>.</p>
        
        <p>A <a href="http://demo.arkadias.cloudfoundry.com/">Working Example</a> of this application is maintained on <a href="http://cloudfoundry.com/">Cloud Foundry</a>.</p>
        
        <p>The <a href="https://github.com/gihrig/Demo_Spring_Roo_and_Thymeleaf">Source Code</a> is maintained on <a href="https://github.com/">GitHub</a></p>
        
        <h2>Project Goals</h2>
        
        <p>This project began with a desire to meet the following objectives in a single web application.</p>

        <ol>
            <li><p>A light-weight UI consisting of:</p>

                <ul>
                    <li><a href="http://www.codeproject.com/Articles/146409/Semantic-HTML5-Page-Layout">Semantic HTML5</a></li>
                    <li>JavaScript consisting of:
                        <ul>
                            <li><a href="http://jquery.com/">jQuery</a></li>
                            <li><a href="http://jqueryui.com/">jQueryUI</a></li>
                            <li><a href="http://jquerymobile.com/">jQueryMobile</a></li>
                            <li><a href="http://wijmo.com/">Wijmo UI Toolkit</a></li>
                        </ul>
                    </li>
                    <li><a href="http://css3please.com/">CSS3</a></li>
                </ul></li>
            <li><p>An easily customizable, highly usable, visually attractive web page.</p></li>
            <li><p>Usable on any web-enabled device.</p></li>
            <li><p>Supported by a reliable, high-performance Java server back-end consisting of:</p>
                <ul>
                    <li>Layered JEE/<a href="http://www.springsource.org/">Spring</a> architecture
                        <ul>
                            <li>Domain layer - handles data access and persistence for a variety data structures:
                                <ul>
                                    <li><a href="http://en.wikipedia.org/wiki/Relational_database">
                                        Relational Data</a></li>
                                    <li><a href="http://en.wikipedia.org/wiki/Document_oriented_database">
                                        Document Oriented 'NoSql' Data</a></li>
                                </ul>
                            </li>
                            <li>Service layer - handles custom business logic</li>
                            <li>Web layer - uses 
                                <a href="http://static.springsource.org/spring/docs/current/spring-framework-reference/html/mvc.html">
                                    Spring MVC</a> and [Thymeleaf](http://www.thymeleaf.org/) to produce valid HTML5 mark up.</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><p>Able to securely handle enormous data volume and thousands of simultaneous users.</p></li>
        </ol>

        <h2>Project philosophy</h2>
        
        <p>The goal of this project can be summed up in two general objectives not commonly associated in modern (2012) web applications. </p>

        <ol>
            <li><p>Rich, light-weight HTML that can be viewed on any web enabled device.</p></li>
            <li><p>High performance, reliable, able to scale to meet any traffic demand.</p></li>
        </ol>

        <p>The power of Spring/JEE applications on the server-side is undisputed, but the corresponding view layer 
           consisting of such technologies as JSP, JSF or FLEX, etc., is complex and unsatisfying from a web 
           development perspective.</p>
        
        <p><em>JSP was designed to address the perception that the Java programming environment didn't provide 
          developers with enough support for the Web.</em> -<a href="http://en.wikipedia.org/wiki/JavaServer_Pages">
          Wikipedia</a>. In 2012, JSP still does not provide adequate support for the HTML5 web, or the need for 
          rapid development and maintenance.</p>
        
        <p><em>JSF is a request-driven MVC web framework for constructing user interfaces using components. As a 
          display technology, JSF 2 uses Facelets...</em> -<a href="http://en.wikipedia.org/wiki/JavaServer_Faces">
          Wikipedia</a>. Any component-driven UI technology presents a high degree of abstraction and complexity 
          that is not compatible with the goals of rapid development and maintenance.</p>
        
        <p><em>Adobe Flex is a software development kit (SDK) released by Adobe Systems for the development and 
          deployment of cross-platform rich Internet applications based on the Adobe Flash platform.</em> 
          -<a href="http://en.wikipedia.org/wiki/Adobe_Flex">Wikipedia</a>. Being dependent on the Flash platform 
          in addition to being a component-driven architecture make Flex completely at odds with the stated Project 
          Goals.</p>
        
        <h2>An HTML5 oriented template engine.</h2>
        
        <p><a href="http://www.thymeleaf.org/">Thymeleaf</a> is an HTML5 oriented template engine for Java 
          applications.</p>
        
        <p>A compelling discussion comparing JSP and Thymeleaf makes the point very well. 
          <a href="http://www.thymeleaf.org/thvsjsp.html">Spring MVC view layer: Thymeleaf vs. JSP</a> but perhaps 
          still better is a code sample.</p>
        
        <p>This is the Thymeleaf template, 
          <a href="https://github.com/gihrig/Demo_Spring_Roo_and_Thymeleaf/blob/master/src/main/webapp/WEB-INF/templates/messageforms/list.html">list.html</a> which generates the <a href="http://demo.arkadias.cloudfoundry.com/messageforms?page=1&amp;size=10">
          Contact Submissions List</a> page for this project.</p>
        
        <p>For the most part it's just HTML5 markup - it's even viewable in a browser straight from the file system, 
          without a server, which is very handy when styling a page with CSS. The Thymeleaf parts are all tag 
          attributes identifiable by the <em>th:</em> name space.</p>
        
        <p><code>WEB-INF/templates/messageforms/list.html</code></p>
        
        <hr />
        
        <pre><code>&lt;!DOCTYPE html&gt;
        
        &lt;html xmlns:th="http://www.thymeleaf.org"&gt;
        
        &lt;head&gt;
        &lt;meta charset="utf-8" /&gt;
        &lt;meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /&gt;
        
        &lt;title&gt;HTML5 Spring Roo Thymeleaf Demo&lt;/title&gt;
        &lt;meta name="description" content="HTML5 Spring Roo Thymeleaf Demo Contact Form" /&gt;
        &lt;meta name="author" content="see humans.txt" /&gt;
        
        &lt;meta name="viewport" content="width=device-width,initial-scale=1" /&gt;
        
        &lt;link rel="stylesheet" href="../../../css/style.css" 
            th:href="@{/css/style.css}"/&gt;
        
        &lt;script src="../../../js/libs/modernizr-2.0.6.min.js" 
            th:src="@{/js/libs/modernizr-2.0.6.min.js}"&gt;&lt;/script&gt;
        &lt;/head&gt;
        
        &lt;body&gt;
            &lt;div id="container"&gt;
                &lt;header&gt;
                    &lt;h1&gt;HTML5 Spring Roo Thymeleaf Demo&lt;/h1&gt;
                    &lt;hr /&gt;
                &lt;/header&gt;
        
                &lt;h1&gt;Contact Submissions List&lt;/h1&gt;
        
                &lt;table id="display-data"&gt;
                    &lt;thead&gt;
                        &lt;tr&gt;
                            &lt;th th:text="#{message_list.theader.count}"&gt;
                              ID&lt;/th&gt;
                            &lt;th th:text="#{message_list.theader.name}"&gt;
                              Name&lt;/th&gt;
                            &lt;th th:text="#{message_list.theader.email}"&gt;
                              E-Mail&lt;/th&gt;
                            &lt;th th:text="#{message_list.theader.phone}"&gt;
                              Phone&lt;/th&gt;
                            &lt;th th:text="#{message_list.theader.website}"&gt;
                              Website&lt;/th&gt;
                            &lt;th th:text="#{message_list.theader.message}"&gt;
                              Message&lt;/th&gt;
                            &lt;th th:text="#{message_list.theader.action}" colspan="2"&gt;
                              Action&lt;/th&gt;
                        &lt;/tr&gt;
                    &lt;/thead&gt;
                    &lt;tbody th:if="${#objects.nullSafe(messageforms, false)}"&gt;
                        &lt;tr th:each="row, rowStat : ${messageforms}"&gt;
                            &lt;td th:text="${rowStat.Count}"&gt;1&lt;/td&gt;
                            &lt;td th:text="${row.name}"&gt;My Name&lt;/td&gt;
                            &lt;td th:text="${row.email}"&gt;my@email.com&lt;/td&gt;
                            &lt;td th:text="${row.phone}"&gt;999 555 1212&lt;/td&gt;
                            &lt;td th:text="${row.website}"&gt;http://mysite.com&lt;/td&gt;
                            &lt;td th:text="${row.message}"&gt;My Message...&lt;/td&gt;
                            &lt;td&gt; &lt;!-- Edit item button --&gt; 
                                &lt;a class="btnIcon" href="update.html" 
                                th:href="@{'/messageforms/' + ${row.id} + '?form'}"&gt;
                                &lt;img id="editBtn" name="editBtn" 
                                  src="../../../img/update.png" 
                                  title="edit" alt="edit" class="btnIcon" 
                                  th:src="@{/img/update.png}" 
                                  th:title="#{message_list.button.edit}" 
                                  th:alt="#{message_list.button.edit}"/&gt;&lt;/a&gt;
                            &lt;/td&gt;
                            &lt;td&gt; &lt;!-- Delete item button --&gt;
                                &lt;form action="list.html" 
                                    th:action="@{'/messageforms/' + ${row.id}}" 
                                      method="post"&gt;
                                    &lt;input type="hidden" name="_method" 
                                      value="DELETE" /&gt;
                                    &lt;input type="hidden" name="page" value="1" /&gt;
                                    &lt;input type="hidden" name="size" value="10" /&gt;
                                    &lt;input type="image" id="deleteBtn" 
                                      name="deleteBtn" src="../../../img/delete.png" 
                                      title="Delete" alt="Delete" class="btnIcon" 
                                      th:src="@{/img/delete.png}" 
                                      th:title="#{message_list.button.delete}" 
                                      th:alt="#{message_list.button.delete}"/&gt;
                                &lt;/form&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
                &lt;!-- Page buttons --&gt;
                &lt;a class="button btnSmall" href="../index.html" 
                  th:href="@{/}" 
                  th:text="#{message_list.button.home}"&gt;
                  Home&lt;/a&gt;
                &lt;a class="button btnSmall" href="create.html" 
                  th:href="@{'/messageforms?form'}" 
                  th:text="#{message_list.button.new}"&gt;
                  New&lt;/a&gt;
                &lt;a class="button btnSmall" href="list.html" 
                  th:href="@{'/messageforms?page=1&amp;amp;size=10'}" 
                  th:text="#{message_list.button.list}"&gt;
                  List&lt;/a&gt;
        
                &lt;footer&gt;
                    &lt;hr /&gt;
                    &lt;h2&gt;Footer&lt;/h2&gt;
                &lt;/footer&gt;
            &lt;/div&gt;
            &lt;!-- end of #container --&gt;
        
            &lt;script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"&gt;
            &lt;/script&gt;
            &lt;script&gt;
                /*&lt;![CDATA[*/
                    window.jQuery ||
                    document.write(
                      '&lt;script src="../../../js/libs/jquery-1.6.2.min.js 
                      th:src="@{/js/libs/jquery-1.6.2.min.js}"&gt;&lt;\/script&gt;')   
                /*]]&gt;*/
            &lt;/script&gt;
        
        &lt;/body&gt;
        &lt;/html&gt;
        </code></pre>
          
		<footer>
            <hr />
            <h2>Footer</h2>
		</footer>
	</div>
	<!-- end of #container -->
    
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
	<script>
		/*<![CDATA[*/
		      window.jQuery || 
		          document.write('<script src="../../js/libs/jquery-1.6.2.min.js th:src="@{/js/libs/jquery-1.6.2.min.js}"><\/script>')   
		/*]]>*/
	</script>

</body>
</html>
